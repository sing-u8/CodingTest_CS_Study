이 부분이 이해가 안 되면 "왜 굳이 좌표를 2배로 늘려야 하지?"라는 의문이 계속 남게 됩니다.

말로만 설명하면 추상적이라 이해하기 어렵습니다. 그림을 통해 1배율(1x1) 격자의 한계와 2배율(2x2) 격자의 해결 원리를 명확하게 보여드리겠습니다.

---

## 상황 설정: "ㄷ"자 모양의 함정

문제에서 주어진 예시처럼 직사각형들이 겹쳐서 만들어진 **"ㄷ"자 모양의 테두리**를 상상해 봅시다.

우리는 파란색 점 **A(3, 5)**에서 빨간색 점 **B(4, 5)**로 가고 싶습니다.

**[현실 세계의 모양]**
좌표상으로 A와 B는 바로 옆에 붙어 있는 것처럼 보입니다. 하지만 실제 테두리 경로를 보면, A와 B 사이는 "ㄷ"자의 안쪽 공백으로 막혀 있어서, **위로 삥 돌아가야 합니다.**

```text
      실제 경로 (멀리 돌아가야 함)
      ┌─────────┐
      │         │
  A(3,5)   X   B(4,5)
  (여기 막힘!)

```

---

### 1. 문제점: 1배율(1x1) 격자에서의 BFS 오류

우리가 이 모양을 1x1 크기의 2차원 배열 `map[][]`에 표시한다고 해봅시다. 테두리는 `1`로 표시합니다.

**[1x1 격자 지도]**
컴퓨터는 점 A와 점 B를 다음과 같이 인식합니다.

```text
(y=6)  . . . . .
(y=5)  . . 1 1 .   <-- map[5][3]도 1, map[5][4]도 1
(y=4)  . . . . .
           ^ ^
           A B
         (x=3)(x=4)

```

**BFS의 작동 방식:**

1. 현재 위치 A`(3, 5)`에 있습니다.
2. 상하좌우를 살핍니다.
3. 오른쪽인 `(4, 5)`를 봅니다. 어? 여기도 테두리(`1`)네?
4. **BFS: "아싸! 바로 옆이네. 이동!" (A → B 바로 이동)**

**결과:**
BFS는 `(3, 5)`와 `(4, 5)` 사이에 벽이 있다는 사실을 모릅니다. 그냥 배열에서 바로 옆 칸이고 둘 다 `1`이니까 연결되어 있다고 착각하고 **경로를 가로질러 버립니다.** 실제로는 돌아가야 하는 먼 길을 1초 만에 가버리는 오류가 발생합니다.

---

### 2. 해결책: 2배율(2x2) 격자에서의 정상 작동

이제 모든 좌표를 **2배**로 늘려봅시다. 해상도(Resolution)를 높이는 것입니다.

* A 좌표: (3, 5)  **A'(6, 10)**
* B 좌표: (4, 5)  **B'(8, 10)**

가장 중요한 변화는 **A'와 B' 사이에 새로운 공간**이 생겼다는 점입니다. 바로 **(7, 10)** 좌표입니다.

**[2x2 격자 지도]**
이 새로운 공간 `(7, 10)`은 테두리일까요, 아닐까요? 직사각형을 그리는 로직에 따르면, 이 부분은 직사각형의 **내부 공간(벽)**이 되어 테두리(`1`)로 표시되지 않습니다. (보통 내부를 `2`로 채우거나 비워둡니다.)

그림으로 표현하면 다음과 같습니다. (`■`는 테두리 길, `□`는 벽이나 내부)

```text
(y=11) . . . ■ ■ ■ . . .
(y=10) . . . ■ □ ■ . . .  <-- A'(6,10)과 B'(8,10) 사이에
(y=9)  . . . ■ ■ ■ . . .      벽(□)인 (7,10)이 생김!
             ^ ^ ^
             A'  B'

```

**BFS의 작동 방식 (2배율):**

1. 현재 위치 A'`(6, 10)`에 있습니다.
2. 상하좌우를 살핍니다.
3. 오른쪽인 `(7, 10)`을 봅니다. 어? 여기는 테두리(`■`)가 아니라 벽(`□`)이네?
4. **BFS: "못 가겠네. 다른 길을 찾아야지."**
5. 결국 BFS는 바로 옆으로 건너뛰지 못하고, `■`로 이어진 길을 따라 위로 삥 돌아가게 됩니다.

---

### 요약

* **1x1 격자:** 점 A와 점 B가 배열상에서 바로 옆에 붙어 있어서, 그 사이의 "끊어진 틈"을 표현할 공간이 없습니다. BFS는 이를 연결된 길로 착각합니다.
* **2x2 격자:** 좌표를 늘리면 점 A'와 점 B' 사이에 **물리적인 공간(버퍼)**이 생깁니다. 이 공간을 "벽"으로 표시함으로써 BFS가 건너뛰지 못하고 올바른 테두리 경로를 따라가게 강제하는 것입니다.


## 구체적인 예시

네, 아주 구체적인 예시를 들어서 **"왜 1배율에서는 BFS가 벽을 뚫고 지나가는지"** 보여드리겠습니다.

가장 이해하기 쉬운 **"뒤집어진 U자 (Arch) 모양"**을 예로 들어보겠습니다.

### 1. 상황 설정 (The Scenario)

세 개의 직사각형을 합쳐서 아래와 같은 **아치(Arch) 모양의 지형**이 만들어졌다고 가정해 봅시다.

1. **왼쪽 기둥:** `(1, 1)` ~ `(3, 5)`
2. **오른쪽 기둥:** `(4, 1)` ~ `(6, 5)`
3. **지붕 (연결):** `(1, 5)` ~ `(6, 6)`

이 도형의 **중앙에는 `x=3`과 `x=4` 사이의 1칸짜리 빈 공간(통로)**이 있습니다.

### 2. 문제 상황: 1배율 (1x1) 격자에서의 오류

우리가 **A지점 `(3, 3)`**에서 출발해서 **B지점 `(4, 3)`**으로 가려고 합니다.

* **실제 지형:** A와 B 사이는 허공(빈 공간)입니다. A에서 B로 가려면 위로 올라가서 지붕을 타고 내려와야 합니다. (빙 돌아가야 함)
* **컴퓨터의 시선 (1x1 배열):** 컴퓨터는 이 지형을 2차원 배열 `map`에 테두리를 `1`로 표시합니다.

**[1x1 배열 상태]**

```text
(y)
 6  1 1 1 1 1 1  (지붕)
 5  1 1 1 1 1 1
 4  1 0 1 1 0 1  <-- 문제의 구간
 3  1 0 1 1 0 1  <-- A(3,3), B(4,3)
 2  1 0 1 1 0 1
 1  1 1 1 1 1 1
    1 2 3 4 5 6 (x)
        ^ ^
        A B

```

**BFS의 사고 과정:**

1. 현재 위치: **A `(3, 3)**`
2. 이동 가능한지 탐색: "오른쪽 한 칸 옆인 **`(4, 3)`**을 보자."
3. 판단: "어? **`(4, 3)`**도 `1`(테두리)이네?"
4. **결과:** "오케이, 이동!" (점프!)  **거리 1**

**🚨 대참사 발생:**
실제로는 벽이 가로막고 있어 갈 수 없는 곳인데, 배열 상에서 **인덱스가 딱 1 차이**밖에 나지 않다 보니, BFS는 이것을 "연결된 길"이라고 착각하고 건너뛰어 버립니다.

---

### 3. 해결 상황: 2배율 (2x2) 격자에서의 정상 작동

이제 모든 좌표를 **2배**로 늘립니다. 해상도가 높아집니다.

* **A 좌표:** `(3, 3)`  **A' `(6, 6)**`
* **B 좌표:** `(4, 3)`  **B' `(8, 6)**`

**[2배 확대된 배열 상태]**
가장 중요한 점은, 원래 붙어있던 3과 4 사이에 **`x=7`이라는 새로운 공간**이 생겼다는 것입니다.

```text
(y)
...
 7  . . 1 1 1 . .
 6  . . 1 0 1 . .  <-- A'(6,6), 중간(7,6), B'(8,6)
 5  . . 1 0 1 . .
...     ^ ^ ^
       A' 빈공간 B'
      (x=6) (x=7) (x=8)

```

**중간 지점 `(7, 6)`의 정체:**

* 이곳은 직사각형 내부에 포함되지 않는 **완전한 빈 공간**이거나, 테두리 생성 로직에 의해 **0(이동 불가)**으로 남게 됩니다.
* (만약 직사각형 내부라면 2가 되었겠지만, 여기는 두 기둥 사이의 허공이므로 0입니다.)

**BFS의 사고 과정 (2배율):**

1. 현재 위치: **A' `(6, 6)**`
2. 이동 가능한지 탐색: "오른쪽 한 칸 옆인 **`(7, 6)`**을 보자."
3. 판단: "어? **`(7, 6)`**은 `0`(빈 공간)이네? 길이 끊겼어!"
4. **결과:** "이쪽으로는 못 간다. 위쪽 `(6, 7)`로 돌아가자."

이렇게 되면 BFS는 어쩔 수 없이 테두리를 따라 위로 쭉 올라가서, 지붕을 타고 빙 돌아오는 **올바른 경로**를 찾게 됩니다.

### 요약 그림

```text
[1배율 - 오류]         [2배율 - 정상]

   ■ ■ (연결됨?)          ■ □ ■ (끊김!)
   A B                   A'   B'
 (3,3)(4,3)            (6,6) (8,6)
                        (7,6)은 빈 공간

```

이것이 바로 좌표를 2배로 늘려서 **"길이 아님"을 표현할 수 있는 물리적인 인덱스(빈 칸)"**를 확보하는 원리입니다.